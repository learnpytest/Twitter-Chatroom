(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bbbcb7b"],{"21ab":function(e,t,a){"use strict";a("c8dd")},"247f":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"comment-wrapper"},e._l(e.tweets,(function(t){return a("div",{key:t.ReplyID,staticClass:"comment"},[a("div",{staticClass:"user-pic",on:{click:function(a){return a.stopPropagation(),a.preventDefault(),function(){return e.$router.push({name:"user",params:{id:t.User.id}})}.apply(null,arguments)}}},[a("img",{attrs:{src:e._f("emptyImage")(t.User&&t.User.avatar),alt:""}})]),a("div",{staticClass:"tweet-info"},[a("div",{staticClass:"info"},[a("p",{staticClass:"user-name"},[e._v(" "+e._s(t.User&&t.User.name)+" "),a("span",{staticClass:"user-id"},[e._v("@"+e._s(t.User&&t.User.account)+" • ")]),a("span",{staticClass:"time"},[e._v(e._s(e._f("fromNow")(t&&t.createdAt)))])])]),a("p",{attrs:{Class:"reply-to"}},[e._v(" 回覆 "),a("span",[e._v("@ "+e._s(t.Tweet&&t.Tweet.User.account||e.parentTweet.User&&e.parentTweet.User.name))])]),a("div",{staticClass:"tweet-text"},[e._v(" "+e._s(t&&t.comment)+" ")])])])})),0)},i=[],n=a("2909"),r=(a("99af"),a("ac0d")),o={name:"Comments",props:{initialTweets:{type:Array,required:!0},parentTweet:{type:Object}},data:function(){return{showReplyModal:!1,tweets:[]}},watch:{initialTweets:function(e){this.tweets=[].concat(Object(n["a"])(this.tweets),Object(n["a"])(e))}},methods:{fetchData:function(){this.tweets=this.initialTweets}},created:function(){this.fetchData()},mixins:[r["a"],r["b"]]},c=o,l=(a("21ab"),a("2877")),w=Object(l["a"])(c,s,i,!1,null,"0f2160b3",null);t["a"]=w.exports},"4ad7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACTSURBVHgB7dZBCsJAEETRwhN4w9TN5wjxBppBF6IGlQnp7vAfFGQVqmdVEgAAOJZpybykPb5L6YWvT5lVyGv5nqYiPpXvsQqgfBTKR6F8FMpHWSu/V5oGN1WTQor/tKlO+u6seBcNsOJf3xrklZ9PKsTiiBwsjsjB4ogcLI7Iwfpjw2RlvS/Jcqx78U02DAAAyOwG2DPi+W+Y9VUAAAAASUVORK5CYII="},"56c3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.showModal?a("div",{staticClass:"new-tweet-modal"},[a("NewTweetModal",{attrs:{initialShowModal:e.showModal},on:{"show-modal":e.modalToggle}})],1):e._e(),e.showReplyModal?a("div",{staticClass:"new-tweet-modal"},[a("ReplyTweetModal",{attrs:{initialShowReplyModal:e.showReplyModal,initialTweetId:e.replyTweetId},on:{"show-reply-modal":e.replyModalToggle}})],1):e._e(),a("div",{staticClass:"reply-modal"}),a("div",{staticClass:"reply-list"},[a("div",{staticClass:"sidebar"},[a("Sidebar",{attrs:{initialShowModal:e.showModal},on:{"show-modal":e.modalToggle}})],1),a("div",{staticClass:"main"},[a("div",{staticClass:"tweet-detail"},[a("TweetDetail",{attrs:{initialTweet:e.tweet},on:{"show-reply-modal":e.replyModalToggle}})],1),a("div",{staticClass:"tweets"},[a("Comments",{attrs:{initialTweets:e.initialTweetReplies,parentTweet:e.tweet}})],1)]),a("div",{staticClass:"popular"},[a("Popular")],1)])])},i=[],n=a("2909"),r=a("5530"),o=a("1da1"),c=(a("96cf"),a("9a31")),l=a("c4cd"),w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tweet-detail-wrapper"},[s("div",{staticClass:"header"},[s("img",{attrs:{src:a("4ad7"),alt:""},on:{click:function(t){return e.$router.back()}}}),s("p",[e._v("推文")])]),s("div",{staticClass:"tweet-detail-box"},[s("div",{staticClass:"tweet-detail-box_user-info"},[s("img",{staticClass:"user-pic",attrs:{src:e._f("emptyImage")(e.tweet.User&&e.tweet.User.avatar),alt:""}}),s("div",{staticClass:"nameId"},[s("p",[e._v(e._s(e.tweet.User&&e.tweet.User.name))]),s("p",[e._v("@"+e._s(e.tweet.User&&e.tweet.User.account))])])]),s("div",{staticClass:"tweet-detail-box_text"},[s("p",[e._v(" "+e._s(e.tweet&&e.tweet.description)+" ")]),s("p",{staticClass:"tweet-detail-box_created-detail"},[e._v("上午 10:05・2020年6月10日")])]),s("div",{staticClass:"tweet-detail-box_numbers"},[s("p",[e._v(e._s(e.tweet&&e.tweet.RepliesCount)),s("span",[e._v("回覆")])]),s("p",[e._v(e._s(e.tweet&&e.tweet.LikesCount)),s("span",[e._v("喜歡次數")])])]),s("div",{staticClass:"tweet-detail-box_btn-control"},[s("img",{staticClass:"hoverStyle",attrs:{src:a("5482"),alt:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleShowModalClick(e.tweet.TweetId)}}}),e.tweet.isLiked?s("img",{staticClass:"hoverStyle",attrs:{id:"liked-btn",src:a("c92c"),alt:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.unLike(e.tweet.TweetId)}}}):s("img",{staticClass:"hoverStyle",attrs:{src:a("5ead"),alt:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addLike(e.tweet.TweetId)}}})])])])},d=[],u=a("60e2"),p=a("ac0d"),h={props:{initialTweet:{type:Object,require:!0}},mixins:[p["a"]],data:function(){return{showReplyModal:!1,tweet:{},tweetReplies:[]}},created:function(){this.fetchData()},methods:{addLike:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u["a"].postLike(e);case 3:if(s=a.sent,i=s.data,"success"===i.status){a.next=7;break}throw new Error(i.message);case 7:t.tweet=Object(r["a"])(Object(r["a"])({},t.tweet),{},{isLiked:!0,LikesCount:t.tweet.LikesCount+1}),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log("error",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},unLike:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u["a"].deleteLike(e);case 3:if(s=a.sent,i=s.data,"success"===i.status){a.next=7;break}throw new Error(i.message);case 7:t.tweet=Object(r["a"])(Object(r["a"])({},t.tweet),{},{isLiked:!1,LikesCount:t.tweet.LikesCount-1}),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log("error",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},fetchData:function(){this.tweet=Object(r["a"])({},this.initialTweet)},handleShowModalClick:function(e){this.$emit("show-reply-modal",e)}},watch:{initialTweet:function(){this.fetchData()}}},f=h,v=(a("6792"),a("2877")),m=Object(v["a"])(f,w,d,!1,null,"03386311",null),b=m.exports,A=a("8624"),g=a("6783"),C=a("0162"),T=a("247f"),_={components:{Popular:c["a"],Sidebar:l["a"],TweetDetail:b,NewTweetModal:A["a"],ReplyTweetModal:C["a"],Comments:T["a"]},data:function(){return{showModal:!1,showReplyModal:!1,tweet:{},initialTweetReplies:[]}},created:function(){var e=this.$route.params.id;this.fetchTweet(e),this.fetchTweetReplies(e)},methods:{fetchTweet:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g["a"].getTweet(e);case 3:s=a.sent,i=s.data,t.tweet=Object(r["a"])({},i),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),console.log("error",a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},fetchTweetReplies:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g["a"].getTweetReplies(e);case 3:s=a.sent,i=s.data,t.initialTweetReplies=Object(n["a"])(i),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),console.log("error",a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},modalToggle:function(){this.showModal?this.showModal=!1:this.showModal=!0},replyModalToggle:function(e){this.showReplyModal?(this.replyTweetId="",this.showReplyModal=!1):(this.replyTweetId=e,this.showReplyModal=!0)}}},y=_,k=(a("bbbe"),Object(v["a"])(y,s,i,!1,null,"938fae36",null));t["default"]=k.exports},6792:function(e,t,a){"use strict";a("ad88")},"808e":function(e,t,a){},"99af":function(e,t,a){"use strict";var s=a("23e7"),i=a("da84"),n=a("d039"),r=a("e8b5"),o=a("861d"),c=a("7b0b"),l=a("07fa"),w=a("8418"),d=a("65f0"),u=a("1dde"),p=a("b622"),h=a("2d00"),f=p("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",b=i.TypeError,A=h>=51||!n((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),g=u("concat"),C=function(e){if(!o(e))return!1;var t=e[f];return void 0!==t?!!t:r(e)},T=!A||!g;s({target:"Array",proto:!0,forced:T},{concat:function(e){var t,a,s,i,n,r=c(this),o=d(r,0),u=0;for(t=-1,s=arguments.length;t<s;t++)if(n=-1===t?r:arguments[t],C(n)){if(i=l(n),u+i>v)throw b(m);for(a=0;a<i;a++,u++)a in n&&w(o,u,n[a])}else{if(u>=v)throw b(m);w(o,u++,n)}return o.length=u,o}})},ad88:function(e,t,a){},bbbe:function(e,t,a){"use strict";a("808e")},c8dd:function(e,t,a){}}]);
//# sourceMappingURL=chunk-0bbbcb7b.0920f7c6.js.map