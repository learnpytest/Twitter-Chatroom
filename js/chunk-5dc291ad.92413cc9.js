(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dc291ad"],{"045d":function(t,e,s){},1742:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"user"},[a("div",{staticClass:"sidebar"},[a("Sidebar")],1),a("div",{staticClass:"main"},[a("div",{staticClass:"header"},[a("img",{attrs:{src:s("4ad7"),alt:""},on:{click:t.redirect}}),a("div",{staticClass:"header-info"},[a("p",[t._v(t._s(t.userObj.name))]),a("p",[t._v(t._s(t.userObj.TweetCount)+" "),a("span",[t._v("推文")])])])]),a("tabs-followship",{staticClass:"tabs"},[a("tab",{staticClass:"follow-tab",attrs:{title:"跟隨者"}},[a("UserFollowers",{attrs:{initialShowReplyModal:t.showReplyModal}})],1),a("tab",{staticClass:"follow-tab",attrs:{title:"正在跟隨"}},[a("UserFollowings",{attrs:{initialShowReplyModal:t.showReplyModal}})],1)],1)],1),a("div",{staticClass:"popular"},[a("Popular")],1)])])},r=[],n=s("5530"),i=s("1da1"),o=(s("96cf"),s("9a31")),l=s("c4cd"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"follow-wrapper"},t._l(t.getCurrentUserFollowers,(function(e){return s("div",{key:e.followerId,staticClass:"follow-card"},[s("img",{attrs:{src:t._f("emptyImage")(e.avatar),alt:"user avatar"}}),s("div",{staticClass:"follow-card_info"},[s("p",{staticClass:"user-name"},[t._v(t._s(e.name))]),s("p",{staticClass:"user-info"},[t._v("@"+t._s(e.account))]),s("p",{staticClass:"user-intro"},[t._v(t._s(e.introduction))])]),e.isFollowed?s("div",{staticClass:"follow-btn"},[s("button",{staticClass:"following-btn",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.cancel(e.followerId)}}},[t._v(" 正在跟隨 ")])]):s("div",{staticClass:"follow-btn"},[s("button",{staticClass:"follower-btn",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.post(e.followerId)}}},[t._v(" 跟隨 ")])])])})),0)},u=[],d=s("2f62"),f=s("ac0d"),p=s("6ad5"),v={name:"UserFollowers",mixins:[f["a"]],created:function(){var t=this.$route.params.id;this.$store.dispatch(p["M"],t)},methods:Object(n["a"])({cancel:function(t){var e=this.$route.params.id;this.cancelFollow({followingId:t,userId:e})},post:function(t){var e=this.$route.params.id;this.postFollowship({followingId:t,userId:e})}},Object(d["b"])({postFollowship:p["z"],cancelFollow:p["d"]})),computed:Object(n["a"])({},Object(d["c"])({getCurrentUserFollowers:p["l"]}))},h=v,w=(s("1c38"),s("2877")),b=Object(w["a"])(h,c,u,!1,null,"f4b73e4c",null),g=b.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"follow-wrapper"},t._l(t.getCurrentUserFollowings,(function(e){return s("div",{key:e.followingId,staticClass:"follow-card"},[s("img",{attrs:{src:t._f("emptyImage")(e.avatar),alt:"user avatar"}}),s("div",{staticClass:"follow-card_info"},[s("p",{staticClass:"user-name"},[t._v(t._s(e.name))]),s("p",{staticClass:"user-info"},[t._v("@"+t._s(e.account))]),s("p",{staticClass:"user-intro"},[t._v(t._s(e.introduction))])]),e.isFollowed?s("div",{staticClass:"follow-btn"},[s("button",{staticClass:"following-btn",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.cancel(e.followingId)}}},[t._v(" 正在跟隨 ")])]):s("div",{staticClass:"follow-btn"},[s("button",{staticClass:"follower-btn",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.post(e.followingId)}}},[t._v(" 跟隨 ")])])])})),0)},C=[],_={name:"UserFollowings",mixins:[f["a"]],created:function(){var t=this.$route.params.id;this.$store.dispatch(p["N"],t)},methods:Object(n["a"])({cancel:function(t){var e=this.$route.params.id;this.cancelFollow({followingId:t,userId:e})},post:function(t){var e=this.$route.params.id;this.postFollowship({followingId:t,userId:e})}},Object(d["b"])({cancelFollow:p["d"],postFollowship:p["z"]})),computed:Object(n["a"])({},Object(d["c"])({getCurrentUserFollowings:p["m"]}))},A=_,U=(s("847e"),Object(w["a"])(A,m,C,!1,null,"2b8ec38e",null)),I=U.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"tabs__header"},t._l(t.tabs,(function(e,a){return s("li",{key:e.title,class:{tab__selected:a==t.selectedIndex},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.selectTab(a)}}},[t._v(" "+t._s(e.title)+" ")])})),0),t._t("default")],2)},O=[],x=(s("d3b7"),s("159b"),{data:function(){return{selectedIndex:0,tabs:[],filterType:{}}},created:function(){this.tabs=this.$children},mounted:function(){this.selectTab(0)},methods:{selectTab:function(t){this.selectedIndex=t,this.tabs.forEach((function(e,s){e.isActive=s===t}));var e=this.$route.params.id;0===this.selectedIndex?this.$router.push("/users/".concat(e,"/followers")):this.$router.push("/users/".concat(e,"/followings"))}}}),j=x,F=(s("7112"),Object(w["a"])(j,k,O,!1,null,"144e9c92",null)),T=F.exports,$=s("ad5e"),R=s("5e4c"),E={components:{Popular:o["a"],Sidebar:l["a"],UserFollowings:I,UserFollowers:g,TabsFollowship:T,Tab:$["a"]},data:function(){return{showEditModal:!1,showReplyModal:!1,userId:"",userObj:{}}},created:function(){this.userId=this.$route.params.id,this.fetchUser(this.userId)},methods:{redirect:function(){this.$router.push("/usermain")},fetchUser:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isLoading=!0,s.next=4,R["a"].getUser(t);case 4:if(a=s.sent,r=a.data,i=a.statusText,"OK"===i){s.next=8;break}throw new Error(i);case 8:e.userObj=Object(n["a"])({},r),e.isLoading=!1,s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](0),e.isLoading=!1,console.log(s.t0);case 16:case"end":return s.stop()}}),s,null,[[0,12]])})))()},editModalToggle:function(){this.showEditModal?this.showEditModal=!1:this.showEditModal=!0}},computed:Object(n["a"])({},Object(d["c"])({getCurrentUser:p["k"]})),beforeRouteUpdate:function(t,e,s){this.$store.dispatch("SET_CURRENT_USER_FOLLOWINGS"),s()}},y=E,M=(s("e291"),Object(w["a"])(y,a,r,!1,null,"0ed56ead",null));e["default"]=M.exports},"1c38":function(t,e,s){"use strict";s("9eed")},2499:function(t,e,s){},"2e1d":function(t,e,s){"use strict";s("a266")},"3a08":function(t,e,s){},"4ad7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACTSURBVHgB7dZBCsJAEETRwhN4w9TN5wjxBppBF6IGlQnp7vAfFGQVqmdVEgAAOJZpybykPb5L6YWvT5lVyGv5nqYiPpXvsQqgfBTKR6F8FMpHWSu/V5oGN1WTQor/tKlO+u6seBcNsOJf3xrklZ9PKsTiiBwsjsjB4ogcLI7Iwfpjw2RlvS/Jcqx78U02DAAAyOwG2DPi+W+Y9VUAAAAASUVORK5CYII="},7112:function(t,e,s){"use strict";s("045d")},"847e":function(t,e,s){"use strict";s("2499")},"9a31":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popular-wrapper"},[s("div",{staticClass:"popular-header"},[t._v("Popular")]),t._l(t.getTopUsers,(function(e){return s("div",{key:e.UserId,staticClass:"popular-card"},[s("img",{staticClass:"hoverStyle",attrs:{src:t._f("emptyImage")(e.avatar),alt:"user avatar"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.redirectToUser(e.UserId)}}}),s("div",{staticClass:"popular-card_info"},[s("p",{staticClass:"user-name"},[t._v(t._s(e.name))]),s("p",{staticClass:"user-info"},[t._v("@"+t._s(e.account))])]),e.isFollowed?s("div",{staticClass:"follow-btn"},[s("button",{staticClass:"following-btn",class:{disabled:t.currentUserId===e.UserId},attrs:{disabled:t.currentUserId===e.UserId},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.cancel(e.UserId)}}},[t._v(" 正在跟隨 ")])]):s("div",{staticClass:"follow-btn"},[s("button",{staticClass:"follower-btn",class:{disabled:t.currentUserId===e.UserId},attrs:{disabled:t.currentUserId===e.UserId},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.post(e.UserId)}}},[t._v(" 跟隨 ")])])])}))],2)},r=[],n=s("1da1"),i=s("5530"),o=(s("96cf"),s("2f62")),l=s("ac0d"),c=s("5fad"),u=s("6ad5"),d={name:"Popular",mixins:[l["a"]],data:function(){return{currentUserId:""}},created:function(){this.setTopUsers(),this.getCurrentUser()},methods:Object(i["a"])(Object(i["a"])({cancel:function(t){var e=this.$route.params.id;this.cancelFollow({followingId:t,userId:e}),this.$emit("updateCancelView",t)},post:function(t){var e=this.$route.params.id;this.postFollowship({followingId:t,userId:e}),this.$emit("updateFollowView",t)}},Object(o["b"])({setTopUsers:u["T"],postFollowship:u["z"],cancelFollow:u["d"]})),{},{getCurrentUser:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].getCurrentUser();case 3:if(s=e.sent,a=s.data,r=s.statusText,"OK"===r){e.next=7;break}throw new Error(r);case 7:t.currentUserId=a.id,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},redirectToUser:function(t){this.$router.push({name:"user",params:{id:t}})}}),computed:Object(i["a"])({},Object(o["c"])({getTopUsers:u["u"]}))},f=d,p=(s("2e1d"),s("2877")),v=Object(p["a"])(f,a,r,!1,null,"b409dbfc",null);e["a"]=v.exports},"9dd4":function(t,e,s){t.exports=s.p+"img/Logo_small.21c0a93a.svg"},"9eed":function(t,e,s){},a266:function(t,e,s){},a357:function(t,e,s){t.exports=s.p+"img/icon_chat.6e17a436.svg"},ad5e:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}]},[t._t("default")],2)},r=[],n={props:{title:{type:String,default:"Tab"}},data:function(){return{isActive:!0}}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);e["a"]=l.exports},bf0d:function(t,e,s){t.exports=s.p+"img/icon_cog.2ff65de4.svg"},c4cd:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar-wrapper"},[a("ul",{staticClass:"nav-links"},[a("li",[a("router-link",{attrs:{to:"#"}},[a("img",{staticClass:"logo",attrs:{src:s("9dd4"),alt:""}})])],1),a("li",[a("router-link",{attrs:{to:{name:"UserMain"}}},[a("div",{staticClass:"nav-link"},[a("img",{staticClass:"filter-orange",attrs:{src:s("dffc"),alt:""}}),a("p",{staticClass:"nav-link_text"},[t._v("首頁")])])])],1),a("li",[a("router-link",{attrs:{to:{name:"user",params:{id:t.currentUserId}}}},[a("div",{staticClass:"nav-link"},[a("img",{staticClass:"filter-orange",attrs:{src:s("8f36"),alt:""}}),a("p",{staticClass:"nav-link_text"},[t._v("個人資料")])])])],1),a("li",[a("router-link",{attrs:{to:{name:"public-room"}}},[a("div",{staticClass:"nav-link"},[a("img",{staticClass:"filter-orange",attrs:{src:s("a357"),alt:""}}),a("p",{staticClass:"nav-link_text"},[t._v("公開聊天室")])])])],1),a("li",[a("router-link",{attrs:{to:{name:"user-setting"}}},[a("div",{staticClass:"nav-link"},[a("img",{staticClass:"filter-orange",attrs:{src:s("bf0d"),alt:""}}),a("p",{staticClass:"nav-link_text"},[t._v("設定")])])])],1),a("li",{staticClass:"nav-link"},[a("button",{on:{click:t.handleShowModalClick}},[t._v("推文")])])]),a("div",{staticClass:"logout",on:{click:t.logout}},[a("router-link",{attrs:{to:"#"}},[a("div",{staticClass:"nav-link"},[a("img",{staticClass:"filter-orange",attrs:{src:s("f667"),alt:""}}),a("p",{staticClass:"nav-link_text"},[t._v("登出")])])])],1)])},r=[],n=s("1da1"),i=s("5530"),o=(s("96cf"),s("2f62")),l=s("6ad5"),c=s("5fad"),u={name:"Sidebar",props:{initialShowModal:{type:Boolean,required:!0}},data:function(){return{showModal:"",currentUserId:""}},created:function(){this.getCurrentUser()},methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])({revokeAuthentication:l["H"]})),{},{logout:function(){this.revokeAuthentication(),this.$router.push("/login")},handleShowModalClick:function(){this.showModal=!0,this.$emit("show-modal")},getCurrentUser:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].getCurrentUser();case 3:if(s=e.sent,a=s.data,r=s.statusText,"OK"===r){e.next=7;break}throw new Error(r);case 7:t.currentUserId=a.id,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}})},d=u,f=(s("c9ce"),s("2877")),p=Object(f["a"])(d,a,r,!1,null,"23a5645b",null);e["a"]=p.exports},c9ce:function(t,e,s){"use strict";s("cc13")},cc13:function(t,e,s){},e291:function(t,e,s){"use strict";s("3a08")}}]);
//# sourceMappingURL=chunk-5dc291ad.92413cc9.js.map